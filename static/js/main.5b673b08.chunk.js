(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){},23:function(e,t,a){},36:function(e,t,a){},44:function(e,t,a){e.exports=a(85)},85:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchCard",function(){return C}),a.d(n,"fetchToken",function(){return A}),a.d(n,"fetchUser",function(){return j}),a.d(n,"fetchStatistics",function(){return k}),a.d(n,"fetchSubscription",function(){return w}),a.d(n,"fetchError",function(){return I}),a.d(n,"hideError",function(){return D}),a.d(n,"cancelSubscription",function(){return T}),a.d(n,"resetPassword",function(){return R}),a.d(n,"sendEmailSafetyPay",function(){return L}),a.d(n,"cancelSubscriptionDefinitely",function(){return P}),a.d(n,"cancelSubscription30days",function(){return F}),a.d(n,"fetchStatusActions",function(){return U});a(45),a(46),a(21);var r=a(0),c=a.n(r),s=a(38),o=a.n(s),l=a(1),i=a(16),u=a(40),d=a(18),m=Object(i.c)({statusActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_TOKEN":case"LOADING_USER":return{isFetched:!1,isFetching:!1};case"SHOW_STATUS_ACTIONS":return Object(d.a)({isFetched:!0,isFetching:!1},t.payload);case"LOADING_CANCEL_SUBSCRIPTION":case"LOADING_CANCEL_SUBSCRIPTION_DEFINITELY":case"LOADING_RESET_PASSWORD":case"LOADING_SEND_EMAIL_SAFETYPAY":return{isFetched:!1,isFetching:!0};case"HIDE_STATUS_ACTIONS":return{isFetched:!1,isFetching:!1};default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_CARD":return"loading";case"FETCH_CARD":return t.payload;default:return e}},tokens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_CARD":return"";case"LOADING_TOKEN":return"loading";case"FETCH_TOKEN":return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_CARD":case"LOADING_TOKEN":return"";case"LOADING_USER":return"loading";case"FETCH_USER":return t.payload;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isError:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ERROR":return Object(d.a)({isError:!0},t.payload);case"HIDE_ERROR":case"LOADING_TOKEN":case"LOADING_USER":case"LOADING_STATISTICS":case"LOADING_SUBSCRIPTION":case"LOADING_CARD":return{isError:!1};default:return e}},subscription:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_CARD":case"LOADING_TOKEN":return"";case"LOADING_SUBSCRIPTION":return"loading";case"FETCH_SUBSCRIPTION":return t.payload;default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_CARD":case"LOADING_TOKEN":return"";case"LOADING_STATISTICS":return"loading";case"FETCH_STATISTICS":return t.payload;default:return e}}}),p=Object(i.d)(m,{},Object(i.a)(u.a)),f=a(2),h=a(3),E=a(5),v=a(4),y=a(6),b=(a(23),a(8)),g=a.n(b),O=a(14),S=a.n(O),N="https://api2.karaokesmart.co/v2",_="https://test-payment.karaokesmart.co/v1",C=function(e){return p.dispatch({type:"LOADING_CARD"}),function(t){var a={};return a.last_four_card=e,S.a.post("".concat(_,"/subscriptions/card/"),a,{headers:{"content-type":"application/json"}}).then(function(e){console.log("response",e),t({type:"FETCH_CARD",payload:e.data.data})}).catch(function(e){I(t,e,"card","Recibiendo las tarjetas")})}},A=function(e){return p.dispatch({type:"LOADING_TOKEN"}),console.log("busncando token..."),function(t){var a={};return a.email=e,S.a.post("".concat(N,"/user/search/"),a,{headers:{"content-type":"application/json"}}).then(function(e){console.log("response",e),1===e.data.data.users.length&&console.log(e.data.data.users[0].token),t({type:"FETCH_TOKEN",payload:e.data.data.users})}).catch(function(e){I(t,e,"token","Recibiendo token del usuario")})}},j=function(e){p.dispatch({type:"LOADING_USER"});var t="token "+e;return function(a){return S.a.get("".concat(N,"/customer/info/user/"),{headers:{"content-type":"application/json",Authorization:t}}).then(function(t){console.log("response",t),a({type:"FETCH_USER",payload:Object(d.a)({},t.data.data,{token:e})})}).catch(function(e){I(a,e,"user","Informacion del usuario")})}},k=function(e){p.dispatch({type:"LOADING_STATISTICS"});var t="token "+e;return function(e){return S.a.get("".concat(N,"/customer/info/statistics/"),{headers:{"content-type":"application/json",Authorization:t}}).then(function(t){console.log("response",t),e({type:"FETCH_STATISTICS",payload:t.data.data})}).catch(function(t){I(e,t,"statistics","Estadisticas del usuario")})}},w=function(e){p.dispatch({type:"LOADING_SUBSCRIPTION"});var t="token "+e;return function(e){return S.a.get("".concat(N,"/customer/info/subscriptions/"),{headers:{"content-type":"application/json",Authorization:t}}).then(function(t){console.log("response subscription",t),e({type:"FETCH_SUBSCRIPTION",payload:t.data.data})}).catch(function(t){I(e,t,"subscription","Suscripcion del usuario")})}},I=function(e,t,a,n){t.response?(e({type:"SHOW_ERROR",payload:{type:a,from:n,status:"Error "+t.response.status,message:t.response.data.detail}}),console.log("data",t.response.data),console.log("status",t.response.status),console.log("headers",t.response.headers)):t.request?(e({type:"SHOW_ERROR",payload:{type:a,from:n,status:"Error",message:t.request}}),console.log("request",t.request)):(e({type:"SHOW_ERROR",payload:{type:a,from:n,status:"Error",message:t.message}}),console.log("Error",t.message)),console.log(t.config)},D=function(){return function(e){return e({type:"HIDE_ERROR"})}},T=function(e){return p.dispatch({type:"LOADING_CANCEL_SUBSCRIPTION"}),function(t){return S.a.delete("".concat(_,"/subscriptions?user_id=")+e,{headers:{"content-type":"application/json"},data:{cancel_now:!1,for_customer:!1}}).then(function(e){console.log("response CANCEL subscription",e),e.data.data.success?U("success",t,e.data.data.message,"cancel_subscription","Cancelacion de Suscripcion"):U("error",t,e.data.data,"cancel_subscription","Cancelacion de Suscripcion")}).catch(function(e){U("error",t,e,"cancel_subscription","Cancelacion de Suscripcion")})}},R=function(e){p.dispatch({type:"LOADING_RESET_PASSWORD"});var t="token "+e;return function(e){return S.a.get("".concat(N,"/user/setpassword/"),{headers:{"content-type":"application/json",Authorization:t}}).then(function(t){console.log("response RESET PASSWORD",t),t.data.success?U("success",e,t.data.data,"reset_password","Reset Password"):U("error",e,t.data,"reset_password","Reset Password")}).catch(function(t){U("error",e,t,"reset_password","Reset Password")})}},L=function(e,t){p.dispatch({type:"LOADING_SEND_EMAIL_SAFETYPAY"});var a="token "+e;return function(e){return S.a.get("".concat(N,"/pay/safety/pay?country=")+t,{headers:{"content-type":"application/json",Authorization:a}}).then(function(t){console.log("response mailing SAFETYPAY",t),t.data.success?U("success",e,t.data.data.message+" "+t.data.data.code,"send_email_safetypay","Mailing SafetyPay"):U("error",e,t.data.data,"send_email_safetypay","Mailing SafetyPay")}).catch(function(t){U("error",e,t,"reset_password","Reset Password")})}},P=function(e){return p.dispatch({type:"LOADING_CANCEL_SUBSCRIPTION_DEFINITELY"}),function(t){return S.a.delete("".concat(_,"/subscriptions?user_id=")+e,{headers:{"content-type":"application/json"},data:{cancel_now:!0,for_customer:!0}}).then(function(e){console.log("response CANCEL subscription DEFINITELY",e),e.data.data.success?U("success",t,e.data.data.message,"cancel_subscription_definitely","Cancelacion de Suscripcion Definitivamente"):U("error",t,e.data.data,"cancel_subscription_definitely","Cancelacion de Suscripcion Definitivamente")}).catch(function(e){U("error",t,e,"cancel_subscription_definitely","Cancelacion de Suscripcion Definitivamente")})}},F=function(e){return p.dispatch({type:"LOADING_CANCEL_SUBSCRIPTION_30_DAYS"}),function(t){return S.a.delete("".concat(_,"/subscriptions?user_id=")+e,{headers:{"content-type":"application/json"},data:{cancel_now:!1,for_customer:!0}}).then(function(e){console.log("response CANCEL subscription a 30 dias.",e),e.data.data.success?U("success",t,e.data.data.message,"cancel_subscription_30_days","Cancelacion de Suscripcion a 30 Dias"):U("error",t,e.data.data,"cancel_subscription_30_days","Cancelacion de Suscripcion a 30 Dias")}).catch(function(e){U("error",t,e,"cancel_subscription_30_days","Cancelacion de Suscripcion a 30 Dias")})}},U=function(e,t,a,n,r){if("success"===e)t({type:"SHOW_STATUS_ACTIONS",payload:{status:e,type:n,from:r,statusCode:"Proceso exitoso",message:a}});else if("error"===e){var c=a;c.response?(t({type:"SHOW_STATUS_ACTIONS",payload:{status:e,type:n,from:r,statusCode:"Error "+c.response.status,message:c.response.data.detail}}),console.log("data",c.response.data),console.log("status",c.response.status),console.log("headers",c.response.headers)):c.request?(t({type:"SHOW_STATUS_ACTIONS",payload:{status:e,type:n,from:r,statusCode:"Error",message:c.request}}),console.log("request",c.request)):(t({type:"SHOW_STATUS_ACTIONS",payload:{status:e,type:n,from:r,statusCode:"Error",message:c.message}}),console.log("Error",c.message)),console.log(c.config)}},G=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(e,t){e(t)},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.email,n=t.token_user,r=t.fetchUser,s=t.fetchStatistics,o=t.fetchSubscription;return c.a.createElement("tr",null,c.a.createElement("td",null,a),c.a.createElement("td",null,n),c.a.createElement("td",null,c.a.createElement("span",{onClick:function(){return e.handleSearch(r,n)},className:"waves-effect waves-light teal lighten-5 teal-text text-darken-4 btn-small"},c.a.createElement("i",{className:"small material-icons"},"search"))),c.a.createElement("td",null,c.a.createElement("span",{onClick:function(){return e.handleSearch(s,n)},className:"waves-effect waves-light teal lighten-5 teal-text text-darken-4 btn-small"},c.a.createElement("i",{className:"small material-icons"},"search"))),c.a.createElement("td",null,c.a.createElement("span",{onClick:function(){return e.handleSearch(o,n)},className:"waves-effect waves-light teal lighten-5 teal-text text-darken-4 btn-small"},c.a.createElement("i",{className:"small material-icons"},"search"))))}}]),t}(r.Component),W=Object(l.b)(null,{fetchUser:j,fetchStatistics:k,fetchSubscription:w})(G),H=(a(36),a(75),function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.statusActions;console.log("MESSSAGE statusActions",e);var t="success"==e.status?"fa fa-check":"fa fa-times-circle";return c.a.createElement("div",{className:"success"==e.status?"isa_success":"isa_error"},c.a.createElement("h3",null,c.a.createElement("i",{className:t}),e.from),c.a.createElement("h3",null,e.statusCode+" - "+e.message))}}]),t}(r.Component)),M=Object(l.b)(null,null)(H),x=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.from,a=e.status,n=e.message;return c.a.createElement("div",{className:"isa_error"},c.a.createElement("h3",null,c.a.createElement("i",{className:"fa fa-times-circle"}),t),c.a.createElement("h3",null,a+"-"+n))}}]),t}(r.Component),B=Object(l.b)(null,null)(x),q=function(){return c.a.createElement("div",{style:{marginTop:50},className:"preloader-wrapper big active"},c.a.createElement("div",{className:"spinner-layer spinner-teal-only"},c.a.createElement("div",{className:"circle-clipper left"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"gap-patch"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"circle-clipper right"},c.a.createElement("div",{className:"circle"}))))},V={id:"id",name:"Nombre",email:"Correo",country:"Pais",so:"Sistema Operativo",platform:"Plataforma",brand:"Marca",date_created:"Fecha de creacion",premium:"\xbfEs Premium?",email_valid:"\xbfEmail valido?",facebook_id:"Facebook ID",was_premium:"\xbfFue Premium?",true:"Si",false:"No",song_count:"Canciones cantadas",cant_days:"Dias de uso del app Smart TV",connect:"Veces que conecto su celular al Smart TV",cant_days_web:"Dias de uso del app Web",connect_web:"Veces que conecto su celular al app Web",cant_open_session:"Veces que inicio sesion",dates_open_session:"Fechas de inicio de sesion",plan_intent_pay:"Plan que intento pagar",plan_web:"Plan web que intento pagar",card:"Tarjeta",last4:"Ultimos 4 digitos",month_card:"Mes de vencimiento",year_card:"A\xf1o de vencimiento",token:"Token",payment:"Pago",canceled:"Cancelado",created:"Creado",currency:"Moneda",end_subscription:"Fin de suscripcion",next_invoice:"Siguiente Boleta",next_payment:"Siguiente Pago",plan:"Plan",price:"Precio",status:"Estado",trial_period_days:"Dias de periodo de prueba",subscriptions:"Suscripciones"},Y=function(e){return void 0!==V[e]?V[e]:e},K=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleSearchUser=function(e){(0,a.props.fetchUser)(e)},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.error;if(void 0!=a&&a.isError&&"user"===a.type)return c.a.createElement("div",{className:"to-do-list-container"},c.a.createElement("div",{className:"row"},c.a.createElement(B,{from:a.from,status:a.status,message:a.message})));if("loading"===t)return c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s4 offset-s4"},c.a.createElement(q,null)));var n=g.a.map(t,function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("th",null,Y(t)),c.a.createElement("th",null,null!==e&&void 0!==e?Y(e.toString()):""))});return g.a.isEmpty(n)?c.a.createElement("div",null):c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Informacion del usuario"),c.a.createElement("th",null))),c.a.createElement("tbody",null,n))}}]),t}(r.Component),z=Object(l.b)(function(e){return{user:e.user,error:e.error}},{fetchUser:j})(K),J=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.statistics,a=e.error;if(void 0!=a&&a.isError&&"statistics"===a.type)return c.a.createElement("div",{className:"to-do-list-container"},c.a.createElement("div",{className:"row"},c.a.createElement(B,{from:a.from,status:a.status,message:a.message})));if("loading"===t)return c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s4 offset-s4"},c.a.createElement(q,null)));var n=g.a.map(t,function(e,t){if("dates_open_session"!=t)return c.a.createElement("tr",{key:t},c.a.createElement("th",null,Y(t)),c.a.createElement("th",null,null!==e&&void 0!==e?Y(e.toString()):""))});return g.a.isEmpty(n)?c.a.createElement("div",null):c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Estadisticas del usuario"),c.a.createElement("th",null))),c.a.createElement("tbody",null,n))}}]),t}(r.Component),$=Object(l.b)(function(e){return{statistics:e.statistics,error:e.error}},null)(J),Q=a(41),X=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.subscription,a=e.error;if(console.log("subscription",t),void 0!=a&&a.isError&&"subscription"===a.type)return c.a.createElement("div",{className:"to-do-list-container"},c.a.createElement("div",{className:"row"},c.a.createElement(B,{from:a.from,status:a.status,message:a.message})));if("loading"===t)return c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s4 offset-s4"},c.a.createElement(q,null)));var n=function(e){var t={};return Object.keys(e).forEach(function(a){console.log(a,e[a]);var n=e[a],r=Y(a),c=null!==n&&void 0!==n?n:"";if("object"===typeof c){var s={};Object.keys(c).forEach(function(e){var t=c[e],a=Y(e),n=null!==t&&void 0!==t?Y(t.toString()):"";s[a]=n}),c=s}else c=n.toString();t[r]=c}),console.log("resultJson",t),t}(t);return g.a.isEmpty(n)?c.a.createElement("div",null):c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Suscripciones"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement(Q.JsonToTable,{json:n})))))}}]),t}(r.Component),Z=Object(l.b)(function(e){return{subscription:e.subscription,error:e.error}},null)(X),ee=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={addFormValue:{fromDate:""}},a.handleCancelSubscription=function(e){e.preventDefault(),console.log("handleCancelSubscription");var t=a.props,n=t.user;(0,t.cancelSubscription)(n.id)},a.handleResetPassword=function(e){e.preventDefault(),console.log("handleResetPassword");var t=a.props,n=t.user;(0,t.resetPassword)(n.token)},a.handleSendEmailSafetyPay=function(e){e.preventDefault(),console.log("handleSendEmailSafetyPay");var t=a.props,n=t.user;(0,t.sendEmailSafetyPay)(n.token,n.country)},a.handleCancelSubscriptionDefinitely=function(e){e.preventDefault(),console.log("handleCancelSubscriptionDefinitely");var t=a.props,n=t.user;(0,t.cancelSubscriptionDefinitely)(n.id)},a.handleCancelSubscription30days=function(e){e.preventDefault(),console.log("handleCancelSubscription30days");var t=a.props,n=t.user;(0,t.cancelSubscription30days)(n.id)},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"renderActions",value:function(e,t){var a=this.props.statusActions;return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Cancelar Suscripcion"),c.a.createElement("th",null,"Resetear Contrase\xf1a"),c.a.createElement("th",null,"Mandar SafetyPay"),c.a.createElement("th",null,"Cancelar definitivamente la suscripcion"),c.a.createElement("th",null,"Cambiar suscripcion a 30 dias"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect waves-light red",onClick:this.handleCancelSubscription},"Ejecutar",c.a.createElement("i",{className:"material-icons right"},"eject"))),c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect waves-light",onClick:this.handleResetPassword},"Ejecutar",c.a.createElement("i",{className:"material-icons right"},"eject"))),c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect waves-light",onClick:this.handleSendEmailSafetyPay},"Ejecutar",c.a.createElement("i",{className:"material-icons right"},"eject"))),c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect waves-light red",onClick:this.handleCancelSubscriptionDefinitely},"Ejecutar",c.a.createElement("i",{className:"material-icons right"},"eject"))),c.a.createElement("td",null,c.a.createElement("button",{className:"btn waves-effect waves-light orange",onClick:this.handleCancelSubscription30days},"Ejecutar",c.a.createElement("i",{className:"material-icons right"},"eject")))),c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"5"},e?c.a.createElement(M,{statusActions:a}):t?c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s4 offset-s4"},c.a.createElement(q,null))):c.a.createElement("div",null)))))}},{key:"render",value:function(){var e=this.props,t=e.statusActions,a=e.user;console.log("statusActions",t);var n=void 0!==a.token&&null!==a.token;return!n||t.isFetching||t.isFetched?n&&t.isFetching?(console.log("2"),this.renderActions(!1,!0)):n&&t.isFetched?(console.log("3"),this.renderActions(!0,!1)):(console.log("4"),c.a.createElement("div",null)):(console.log("1"),this.renderActions(!1,!1))}}]),t}(r.Component),te=Object(l.b)(function(e){return{statusActions:e.statusActions,user:e.user}},n)(ee),ae=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={addFormValue:{fromDate:""}},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"renderTokens",value:function(){var e=this.props.tokens,t=g.a.map(e,function(e,t){return c.a.createElement(W,{key:t,email:e.email,token_user:e.token})});return g.a.isEmpty(t)?c.a.createElement("div",{className:"col s10 offset-s1 center-align"},c.a.createElement("h5",null,"No hay ningun usuario con ese email."),c.a.createElement("p",null,"Busca con otro email.")):c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Token"),c.a.createElement("th",null,"Info"),c.a.createElement("th",null,"Info Mixpanel"),c.a.createElement("th",null,"Suscripcion"))),c.a.createElement("tbody",null,t))}},{key:"render",value:function(){var e=this.props,t=e.tokens,a=e.error;return a.isError&&"token"===a.type||""===t?c.a.createElement("div",null):"loading"===t?c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s4 offset-s4"},c.a.createElement(q,null))):c.a.createElement("div",{className:"to-do-list-container"},c.a.createElement("div",{className:"row"},this.renderTokens(),c.a.createElement(z,null),c.a.createElement($,null),c.a.createElement(Z,null),c.a.createElement(te,null)))}}]),t}(r.Component),ne=Object(l.b)(function(e){return{tokens:e.tokens,user:e.user,error:e.error}},n)(ae),re=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.card,a=e.fetchToken;return c.a.createElement("tr",null,c.a.createElement("td",null,t.id),c.a.createElement("td",null,t.number_card),c.a.createElement("td",null,t.month),c.a.createElement("td",null,t.year),c.a.createElement("td",null,t.payment_type),c.a.createElement("td",null,t.email),c.a.createElement("td",null,c.a.createElement("span",{onClick:function(){return a(t.email)},className:"waves-effect waves-light teal lighten-5 teal-text text-darken-4 btn-small"},c.a.createElement("i",{className:"small material-icons"},"search"))))}}]),t}(r.Component),ce=Object(l.b)(null,n)(re),se=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={addFormValue:{fromDate:""}},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"renderCardList",value:function(){var e=this.props.cards,t=g.a.map(e,function(e,t){return c.a.createElement(ce,{key:t,card:e})});return g.a.isEmpty(t)?c.a.createElement("div",{className:"col s10 offset-s1 center-align"},c.a.createElement("h5",null,"No hay ningun usuario con esa tarjeta."),c.a.createElement("p",null,"Busca con otra tarjeta.")):c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"Numero de Tarjeta"),c.a.createElement("th",null,"Mes"),c.a.createElement("th",null,"A\xf1o"),c.a.createElement("th",null,"Tipo"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Consultar"))),c.a.createElement("tbody",null,t))}},{key:"render",value:function(){var e=this.props,t=e.cards,a=e.error;return a.isError&&"card"===a.type||""===t?c.a.createElement("div",null):"loading"===t?c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s4 offset-s4"},c.a.createElement(q,null))):c.a.createElement("div",{className:"to-do-list-container"},c.a.createElement("div",{className:"row"},this.renderCardList()))}}]),t}(r.Component),oe=Object(l.b)(function(e){return{cards:e.cards,error:e.error}},n)(se),le=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={formValue:{email:"",creditCardLast4:""}},a.handleFormSubmit=function(e){e.preventDefault(),console.log("handleFormSubmit");var t=a.state.formValue,n=a.props,r=n.fetchToken,c=n.fetchCard;""!==t.email?r(t.email):""!==t.creditCardLast4&&c(t.creditCardLast4)},a.handleInputChange=function(e){var t=a.state.formValue,n={};switch(e.target.id){case"email":t.creditCardLast4="";break;case"creditCardLast4":t.email=""}n[e.target.id]=e.target.value,a.setState({formValue:Object(d.a)({},t,n)})},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){console.log("componentWillMount","state",this.state)}},{key:"componentDidMount",value:function(){console.log("componentDidMount","state",this.state)}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate","state",this.state)}},{key:"renderForm",value:function(){var e=this.state.formValue;return c.a.createElement("div",{id:"todo-add-form",className:"col s10 offset-s1"},c.a.createElement("form",{onSubmit:this.handleFormSubmit},c.a.createElement("div",{className:"input-field"},c.a.createElement("i",{className:"material-icons prefix"},"email"),c.a.createElement("input",{value:e.email,onChange:this.handleInputChange,id:"email",type:"email",className:"validate"}),c.a.createElement("label",{htmlFor:"email"},"Email de usuario"),c.a.createElement("span",{className:"helper-text","data-error":"No es un email correcto!","data-success":"Correcto!"})),c.a.createElement("div",{className:"input-field"},c.a.createElement("i",{className:"material-icons prefix"},"credit_card"),c.a.createElement("input",{value:e.creditCardLast4,onChange:this.handleInputChange,id:"creditCardLast4",type:"number",className:"validate"}),c.a.createElement("label",{htmlFor:"creditCardLast4"},"Tarjeta (4 ultimos digitos)"),c.a.createElement("span",{className:"helper-text","data-error":"No es un numero!","data-success":"Correcto!"})),c.a.createElement("div",{className:"button-field"},c.a.createElement("button",{className:"btn waves-effect waves-light"},"Enviar",c.a.createElement("i",{className:"material-icons right"},"send")))),c.a.createElement(oe,null),c.a.createElement(ne,null))}},{key:"render",value:function(){var e=this.props.error;return e.isError&&"token"===e.type?c.a.createElement("div",null,this.renderForm(),c.a.createElement("div",{className:"row"},c.a.createElement(B,{from:e.from,status:e.status,message:e.message}))):c.a.createElement("div",null,this.renderForm())}}]),t}(r.Component),ie=Object(l.b)(function(e){return{error:e.error}},n)(le),ue=a(42),de=a(17),me=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){console.log("willmount")}},{key:"render",value:function(){return c.a.createElement(ue.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(de.a,{exact:!0,path:"/",component:ie})))}}]),t}(r.Component),pe=Object(l.b)(null,null)(me),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(c.a.createElement(l.a,{store:p},c.a.createElement(pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/customer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/customer","/service-worker.js");fe?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):he(t,e)})}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.5b673b08.chunk.js.map